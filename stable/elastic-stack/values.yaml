kibana:
  env:
    ELASTICSEARCH_URL: http://elk.svc.cluster.local:9200
  ingress:
    enabled: true
    hosts:
      - logs-infra.infra.redmart.com
      
    annotations:
      kubernetes.io/ingress.class: "internal-nginx"
elasticsearch:
  master:
    exposeHttp: true
    replicas: 3
    heapSize: "2000m"
    persistence:
      enabled: true
      accessMode: ReadWriteOnce
      name: data
      size: "18Gi"
      storageClass: "infra-elk-elasticsearch-master"
    antiAffinity: "soft"
    nodeAffinity: {}
    nodeSelector: {"redmart.com/role":"InfraStack_Elk"}
    tolerations: []
    resources:
      limits:
        cpu: "1"
        memory: "2.5Gi"
      requests:
        cpu: "0.5"
        memory: "2Gi"
    priorityClassName: ""
    podAnnotations:
      unit-name: "elk-data-node"
    updateStrategy:
      type: OnDelete

  data:
    exposeHttp: true
    replicas: 3
    heapSize: "2000m"
    persistence:
      enabled: true
      accessMode: ReadWriteOnce
      name: data
      size: "90Gi"
      storageClass: "rm-local-persistence-disks"
    antiAffinity: "soft"
    nodeSelector: {"redmart.com/role":"InfraStack_Elk"}
    priorityClassName: ""
    podAnnotations:
      unit-name: "elk-data-node"
    resources:
      limits:
        cpu: "1"
        memory: "6Gi"
      requests:
        cpu: "0.5"
        memory: "5Gi"

  client:
    replicas: 3
    heapSize: "1000m"
    antiAffinity: "soft"
    nodeSelector: {"redmart.com/role":"InfraStack_Elk"}
    resources:
      limits:
        cpu: "1"
        memory: "2Gi"
      requests:
        cpu: "0.5"
        memory: "1.5Gi"
    priorityClassName: ""
    podAnnotations:
      unit-name: "elk-data-node"
    podDisruptionBudget:
      enabled: false
      minAvailable: 1
    ingress:
      enabled: true
      annotations: 
        kubernetes.io/ingress.class: "internal-nginx"
      path: /
      hosts:
        - es-k8s.alpha.redmart.com

logstash:
  enabled: false
  replicaCount: 2
  resources:
        limits:
          cpu: "1.5"
          memory: "8Gi"
        requests:
          cpu: "1"
          memory: "7Gi"
  nodeSelector: {"redmart.com/role":"InfraStack_Elk"}
  podAnnotations:
       unit-name: "elk-data-node"
  podLabels: 
       elk-service: "elk-logstash"
  persistence:
    enabled: true
    storageClass: "rm-local-persistence-disks"
    accessMode: ReadWriteOnce
    size: 30Gi
  podDisruptionBudget:
   maxUnavailable: 1
  elasticsearch:
    host: elastic-stack-elasticsearch-client

filebeat:
  enabled: false

fluentd:
  enabled: false

fluent-bit:
  enabled: false

fluentd-elasticsearch:
  enabled: false

nginx-ldapauth-proxy:
  enabled: false

elasticsearch-curator:
  enabled: false

elasticsearch-exporter:
  enabled: false
